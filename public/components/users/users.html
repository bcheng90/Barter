<div id="user-container">
  <div id="user-aboutme">
    <h4 class="center bold underline">{{users.user.username}}</h4>
    <ul>
      <p><span class="bold">Email:</span> {{users.user.email}}</p>
      <p><span class="bold">Interests:</span> {{users.user.interests}}</p>
      <p><span class="bold">Location:</span> {{users.user.location}}</p>
      <p><span class="bold">About Me:</span> {{users.user.about}}</p>
    </ul>
    <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#userEdit">
      Edit Account Information
    </button>
    <div id="userEdit" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">{{users.user.username}}</h4>
          </div>
          <div class="modal-body">
            <form>
              Email: <input type="text" name="email" ng-model="users.user.email">
              Interests: <input type="text" name="interests" ng-model="users.user.interests">
              About Me: <input type="text" name="about" ng-model="users.user.about">
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <!-- TODO: Close modal upon submission if valid -->

            <button type="submit" ng-click="users.saveUser(users.user)" class="btn btn-primary" ng-hide="userEdit">Save changes</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
  </div>

  <div id="user-talents">
    <!-- TODO: Add partial template of user talents for future horizontal scroll -->
    <ul>
      <li ng-repeat="talent in users.user.talents">
        <a ng-click="users.toggleTalentShown(talent)">{{talent.title}}</a>
        <div ng-class="talent.isShown ? 'visible' : 'hidden'">
          <p>Category: {{talent.type}}</p>
          <p>Experience: {{talent.experience}}</p>
          <p>Description: {{talent.description}}</p>
          <p>Sample: {{talent.sample}}</p>
          <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#talentEdit">
            Edit Talent
          </button>
        </div>
      </li>
    </ul>
  </div>

  <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#userNewTalent">
    Add a talent
  </button>
  <div id="userNewTalent" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">New Talent</h4>
          </div>
          <div class="modal-body">
            <form>
              Title: <input type="text" name="title">
              Sample: <input type="text" name="sample">
              Description: <input type="text" name="description">
              Type:<br>
              <select name="type">
                <option ng-repeat="category in users.categories" value="{{category}}">{{category}}</option>
              </select><br>
              Experience: <br>
              <select name="experience">
                <option ng-repeat="experience in users.experiences" value="{{experience}}">{{experience}}</option>
              </select><br>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <!-- TODO: Close modal upon submission if valid -->

            <button type="submit" ng-click="users.saveTalent()" class="btn btn-primary" ng-hide="userNewTalent">Save changes</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

<!-- TODO: Add partial template of timeslots here -->
  <div id="user-timeslots" >
    <div>
      <h2>Monday</h2>
      <div id="mo" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:1}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 1" ng-click="tab = 1">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 1">
          <ul ng-repeat="offer in timeslot.offers">
            <li><a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Tuesday</h2>
      <div id="tue" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:2}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 2" ng-click="tab = 2">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 2">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button <a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Wednesday</h2>
      <div id="wed" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:3}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 3" ng-click="tab = 3">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 3">
          <ul ng-repeat="offer in timeslot.offers">
            <li><a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Thursday</h2>
      <div id="thurs" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:4}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 4" ng-click="tab = 4">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 4">
          <ul ng-repeat="offer in timeslot.offers">
            <li><a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
            <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Friday</h2>
      <div id="fri" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:5}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 5" ng-click="tab = 5">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 5">
          <ul ng-repeat="offer in timeslot.offers">
            <li><a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Saturday</h2>
      <div id="sat" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:6}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 6" ng-click="tab = 6">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 6">
          <ul ng-repeat="offer in timeslot.offers">
            <li><a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Sunday</h2>
      <div id="sun" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:7}">
        {{timeslot.hours }}
        <p>timeslot id: {{timeslot.id}}</p>
        <h3 ng-show="timeslot.offers.length">{{timeslot.offers.length}} offer(s)</h3>
        <div id="timeslot-offers">
          <ul ng-repeat="offer in timeslot.offers">
            <li><a ng-href="users/{{offer.student_id}}">{{offer}}</a></li>
          </ul>
        </div>
      </div>
   </div>

  </div>
</div>
