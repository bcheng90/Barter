<div id="user-container">
  <div id="user-aboutme">
    <h4 class="center bold underline">{{users.user.username}}</h4>
    <ul>
      <p><span class="bold">Email:</span> {{users.user.email}}</p>
      <p><span class="bold">Interests:</span> {{users.user.interests}}</p>
      <p><span class="bold">Location:</span> {{users.user.location}}</p>
      <p><span class="bold">About Me:</span> {{users.user.about}}</p>
    </ul>
    <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#userEdit">
      Edit Account Information
    </button>
    <div id="userEdit" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">{{users.user.username}}</h4>
          </div>
          <div class="modal-body">
            <form>
              Email: <input type="text" name="email" ng-model="users.user.email">
              Interests: <input type="text" name="interests" ng-model="users.user.interests">
              About Me: <input type="text" name="about" ng-model="users.user.about">
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <!-- TODO: Close modal upon submission if valid -->

            <button type="submit" ng-click="users.saveUser(users.user)" class="btn btn-primary" ng-hide="userEdit">Save changes</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
  </div>
  <div id="user-talents">
    <!-- TODO: Add partial template of user talents for future horizontal scroll -->
    <ul>
      <li ng-repeat="talent in users.user.talents">
        <a ng-click="users.toggleTalentShown(talent)">{{talent.title}}</a>
        <div ng-class="talent.isShown ? 'visible' : 'hidden'">
          <p>Category: {{talent.type}}</p>
          <p>Experience: {{talent.experience}}</p>
          <p>Description: {{talent.description}}</p>
          <p>Sample: {{talent.sample}}</p>
          <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#talentEdit">
            Edit Talent
          </button>
        </div>
      </li>
    </ul>
  </div>

<!-- TODO: Add partial template of timeslots here -->
  <div id="user-timeslots" >
    <div>
      <h2>Monday</h2>
      <div id="mo" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:1}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 1" ng-click="tab = 1">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 1">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button class="btn btn-default" ng-click="tab = 11" ng-show="tab !== 11">See offer {{offer.id}} </button>
              <div class="talnt" ng-show = "tab ===11 ">
                 <h4>status: {{offer.status}}</h4>
                 <h3>{{offer.student.username}}</h3>
                 <h3>{{offer.student.username}}'s talents:</h3>
                 <div ng-repeat="talent in offer.student_talents">
                   <p>{{talent.title}}</p>
                 </div>
                 <button ng-click="users.acceptOffer(offer)" class="btn btn-default">accept</button>
                 <button ng-click="users.declineOffer(offer);tab = 0" class="btn btn-default">decline</button>
                 <button class="btn btn-default" ng-click="tab=1">close</button>
               </div>
             </li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Tuesday</h2>
      <div id="tue" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:2}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 2" ng-click="tab = 2">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 2">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button class="btn btn-default" ng-click="tab = 22" ng-show="tab !== 22">See offer {{offer.id}} </button>
              <div class="talnt" ng-show = "tab ===22 ">
                <h4>status: {{offer.status}}</h4>
                 <h3>{{offer.student.username}}</h3>
                 <h3>{{offer.student.username}}'s talents:</h3>
                 <div ng-repeat="talent in offer.student_talents">
                   <p>{{talent.title}}</p>
                 </div>
                 <button ng-click="users.acceptOffer(offer)" class="btn btn-default">accept</button>
                 <button ng-click= "users.declineOffer(offer);tab = 0"class="btn btn-default">decline</button>
                 <button class="btn btn-default" ng-click="tab=2">close</button>
               </div>
            </li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Wednesday</h2>
      <div id="wed" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:3}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 3" ng-click="tab = 3">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 3">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button class="btn btn-default" ng-click="tab = 33" ng-show="tab !== 33">See offer {{offer.id}} </button>
                 <div class="talnt" ng-show = "tab ===33 ">
                  <h4>status: {{offer.status}}</h4>
                   <h3>{{offer.student.username}}</h3>
                   <h3>{{offer.student.username}}'s talents:</h3>
                   <div ng-repeat="talent in offer.student_talents">
                     <p>{{talent.title}}</p>
                   </div>
                   <button ng-click="users.acceptOffer(offer)" class="btn btn-default">accept</button>
                   <button ng-click="users.declineOffer(offer);tab = 0" class="btn btn-default">decline</button>
                   <button class="btn btn-default" ng-click="tab=3">close</button>
                 </div>
            </li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Thursday</h2>
      <div id="thurs" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:4}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 4" ng-click="tab = 4">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 4">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button class="btn btn-default" ng-click="tab = 44" ng-show="tab !== 44">See offer {{offer.id}}</button>
              <div class="talnt" ng-show = "tab ===44">
                <h4>status: {{offer.status}}</h4>
                   <h3>{{offer.student.username}}</h3>
                   <h3>{{offer.student.username}}'s talents:</h3>
                   <div ng-repeat="talent in offer.student_talents">
                     <p>{{talent.title}}</p>
                   </div>
                   <button ng-click="users.acceptOffer(offer)" class="btn btn-default">accept</button>
                   <button ng-click="users.declineOffer(offer);tab = 0" class="btn btn-default">decline</button>
                   <button class="btn btn-default" ng-click="tab=4">close</button>
                 </div>
            </li>
          </ul>
            <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Friday</h2>
      <div id="fri" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:5}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 5" ng-click="tab = 5">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 5">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button class="btn btn-default" ng-click="tab = 55" ng-show="tab !== 55">See offer {{offer.id}}</button>
            <div class="talnt" ng-show = "tab ===55">
              <h4>status: {{offer.status}}</h4>
               <h3>{{offer.student.username}}</h3>
               <h3>{{offer.student.username}}'s talents:</h3>
               <div ng-repeat="talent in offer.student_talents">
                 <p>{{talent.title}}</p>
               </div>
               <button ng-click="users.acceptOffer(offer)" class="btn btn-default">accept</button>
               <button ng-click="users.declineOffer(offer);tab = 0" class="btn btn-default">decline</button>
               <button class="btn btn-default" ng-click="tab=5">close</button>
             </div>
            </li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Saturday</h2>
      <div id="sat" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:6}">
        {{timeslot.hours}}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 6" ng-click="tab = 6">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 6">
          <ul ng-repeat="offer in timeslot.offers">
            <li><button class="btn btn-default" ng-click="tab = 66" ng-show="tab !== 66">See offer {{offer.id}}</button>
              <div class="talnt" ng-show = "tab ===66">
                <h4>status: {{offer.status}}</h4>
               <h3>{{offer.student.username}}</h3>
               <h3>{{offer.student.username}}'s talents:</h3>
               <div ng-repeat="talent in offer.student_talents">
                 <p>{{talent.title}}</p>
               </div>
               <button  ng-click="users.acceptOffer(offer)"  class="btn btn-default">accept</button>
               <button ng-click="users.declineOffer(offer);tab = 0" class="btn btn-default" >decline</button>
               <button class="btn btn-default" ng-click="tab=6">close</button>
             </div>
            </li>
          </ul>
          <button class="btn btn-default" ng-click="tab = 0">close</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Sunday</h2>
      <div id="sun" ng-repeat="timeslot in users.user.timeslots | filter:{weekday:7}">
        {{timeslot.hours }}
        <p>timeslot id: {{timeslot.id}}</p>
        <button class="btn btn-default" ng-show="timeslot.offers.length && tab !== 7" ng-click="tab = 7">{{timeslot.offers.length}} offer(s)</button>
        <div id="timeslot-offers" ng-show="tab === 7">
          <ul ng-repeat="offer in timeslot.offers">
            <li><<button class="btn btn-default" ng-click="tab = 77" ng-show="tab !== 77">See offer {{offer.id}}</button>
              <div class="talnt" ng-show = "tab === 77 ">
                <h4>status: {{offer.status}}</h4>
               <h3>{{offer.student.username}}</h3>
               <h3>{{offer.student.username}}'s talents:</h3>
               <div ng-repeat="talent in offer.student_talents">
                 <p>{{talent.title}}</p>
               </div>
               <button ng-click="users.acceptOffer(offer)" class="btn btn-default" ng-click="">accept</button>
               <button ng-click="users.declineOffer(offer);tab = 0" class="btn btn-default">decline</button>
               <button class="btn btn-default" ng-click="tab=7">close</button>
             </div></li>
          </ul>
        </div>
      </div>
   </div>

  </div>
</div>
